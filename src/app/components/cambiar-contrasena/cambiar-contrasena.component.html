

<div class="container">
    <div class="logo-container">
        <div class="logo">
            <div class="logo-box">
                <span>M</span>
            </div>
        </div>
        <div class="brand-name">MOVICASH</div>
    </div>

    <h1 class="title">CAMBIO DE CONTRASE칌A</h1>
    <p class="subtitle">Actualiza tu contrase침a temporal</p>

    <div class="form-container">
        <form [formGroup]="updatePasswordForm" (ngSubmit)="actualizarPassword()">
            
          

            <div class="form-group">
                <label for="tempPassword">Contrase침a Temporal</label>
                <div class="password-input-wrapper">
                    <input 
                        id="tempPassword"
                        [type]="showTempPassword ? 'text' : 'password'"
                        formControlName="tempPassword"
                        placeholder="Introduce tu contrase침a temporal"
                    />
                    <button type="button" class="toggle-password" (click)="toggleTempPasswordVisibility()">
                        游녜
                    </button>
                </div>
                <div *ngIf="tempPassword?.invalid && tempPassword?.touched" class="error-message">
                    <small *ngIf="tempPassword?.errors?.['required']">La contrase침a temporal es obligatoria.</small>
                </div>
            </div>

            <div class="form-group">
                <label for="newPassword">Nueva Contrase침a</label>
                <div class="password-input-wrapper">
                    <input 
                        id="newPassword"
                        [type]="showNewPassword ? 'text' : 'password'"
                        formControlName="newPassword"
                        placeholder="Introduce tu nueva contrase침a"
                    />
                    <button type="button" class="toggle-password" (click)="toggleNewPasswordVisibility()">
                        游녜
                    </button>
                </div>
                <div *ngIf="newPassword?.invalid && newPassword?.touched" class="error-message">
                    <small *ngIf="newPassword?.errors?.['required']">La nueva contrase침a es obligatoria.</small>
                    <small *ngIf="newPassword?.errors?.['minlength']">La contrase침a debe tener al menos 8 caracteres.</small>
                    <small *ngIf="newPassword?.errors?.['pattern']">La contrase침a debe incluir al menos una may칰scula y un car치cter especial.</small>
                </div>
            </div>
            
            <div class="form-group">
                <label for="confirmNewPassword">Confirmar Nueva Contrase침a</label>
                <div class="password-input-wrapper">
                    <input 
                        id="confirmNewPassword"
                        [type]="showConfirmPassword ? 'text' : 'password'"
                        formControlName="confirmNewPassword"
                        placeholder="Confirma tu nueva contrase침a"
                    />
                    <button type="button" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
                        游녜
                    </button>
                </div>
                <div *ngIf="confirmNewPassword?.invalid && confirmNewPassword?.touched" class="error-message">
                    <small *ngIf="confirmNewPassword?.errors?.['required']">La confirmaci칩n de la contrase침a es obligatoria.</small>
                    <small *ngIf="confirmNewPassword?.errors?.['minlength']">La confirmaci칩n debe tener al menos 8 caracteres.</small>
                </div>
            </div>

            <div *ngIf="updatePasswordForm.errors?.['passwordsMismatch'] && (newPassword?.touched || confirmNewPassword?.touched)" class="error-message">
                <small>Las contrase침as no coinciden.</small>
            </div>

            <div *ngIf="mensaje" class="success-message">
                {{ mensaje }}
            </div>

            <div *ngIf="error" class="error-message">
                {{ error }}
            </div>

            <button type="submit" class="submit-btn">Actualizar Contrase침a</button>
        </form>
    </div>
</div>

